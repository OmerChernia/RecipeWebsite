{"ast":null,"code":"import React,{useState,useEffect}from'react';import api from'../services/api';import{Link}from'react-router-dom';import{API_BASE_URL,IMAGE_BASE_URL}from'../config';const RecipeList=_ref=>{let{selectedCategory}=_ref;const[recipes,setRecipes]=useState([]);useEffect(()=>{fetchRecipes();},[selectedCategory]);const fetchRecipes=async()=>{try{console.log('Fetching recipes from:',`${API_BASE_URL}/recipes`);const res=await api.get('/recipes');console.log('Recipes fetched:',res.data);setRecipes(res.data);}catch(err){console.error('Error fetching recipes:',err);}};const filteredRecipes=selectedCategory===null?recipes:recipes.filter(recipe=>recipe.category&&recipe.category._id===selectedCategory);return/*#__PURE__*/React.createElement(\"div\",{className:\"recipe-list\"},/*#__PURE__*/React.createElement(\"div\",{className:\"recipe-grid\"},filteredRecipes.map(recipe=>/*#__PURE__*/React.createElement(Link,{to:`/recipe/${recipe._id}`,key:recipe._id,className:\"recipe-card\"},recipe.image&&/*#__PURE__*/React.createElement(\"img\",{src:`${IMAGE_BASE_URL}${recipe.image}`,alt:recipe.title,onError:e=>{e.target.onerror=null;e.target.src='https://via.placeholder.com/150?text=No+Image';}}),/*#__PURE__*/React.createElement(\"div\",{className:\"content\"},/*#__PURE__*/React.createElement(\"h2\",null,recipe.title),/*#__PURE__*/React.createElement(\"p\",{className:\"cooking-time\"},recipe.cookingTime,\" \\u05D3\\u05E7\\u05D5\\u05EA\"))))));};export default RecipeList;","map":{"version":3,"names":["React","useState","useEffect","api","Link","API_BASE_URL","IMAGE_BASE_URL","RecipeList","_ref","selectedCategory","recipes","setRecipes","fetchRecipes","console","log","res","get","data","err","error","filteredRecipes","filter","recipe","category","_id","createElement","className","map","to","key","image","src","alt","title","onError","e","target","onerror","cookingTime"],"sources":["/Users/omerchernia/CODING/Recepie_Website/client/src/components/RecipeList.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport api from '../services/api';\nimport { Link } from 'react-router-dom';\nimport { API_BASE_URL, IMAGE_BASE_URL } from '../config';\n\nconst RecipeList = ({ selectedCategory }) => {\n  const [recipes, setRecipes] = useState([]);\n\n  useEffect(() => {\n    fetchRecipes();\n  }, [selectedCategory]);\n\n  const fetchRecipes = async () => {\n    try {\n      console.log('Fetching recipes from:', `${API_BASE_URL}/recipes`);\n      const res = await api.get('/recipes');\n      console.log('Recipes fetched:', res.data);\n      setRecipes(res.data);\n    } catch (err) {\n      console.error('Error fetching recipes:', err);\n    }\n  };\n\n  const filteredRecipes = selectedCategory === null \n    ? recipes \n    : recipes.filter(recipe => recipe.category && recipe.category._id === selectedCategory);\n\n  return (\n    <div className=\"recipe-list\">\n      <div className=\"recipe-grid\">\n        {filteredRecipes.map(recipe => (\n          <Link to={`/recipe/${recipe._id}`} key={recipe._id} className=\"recipe-card\">\n            {recipe.image && (\n              <img \n                src={`${IMAGE_BASE_URL}${recipe.image}`} \n                alt={recipe.title} \n                onError={(e) => {\n                  e.target.onerror = null; \n                  e.target.src = 'https://via.placeholder.com/150?text=No+Image';\n                }}\n              />\n            )}\n            <div className=\"content\">\n              <h2>{recipe.title}</h2>\n              <p className=\"cooking-time\">{recipe.cookingTime} דקות</p>\n            </div>\n          </Link>\n        ))}\n      </div>\n    </div>\n  );\n};\n\nexport default RecipeList;\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAClD,MAAO,CAAAC,GAAG,KAAM,iBAAiB,CACjC,OAASC,IAAI,KAAQ,kBAAkB,CACvC,OAASC,YAAY,CAAEC,cAAc,KAAQ,WAAW,CAExD,KAAM,CAAAC,UAAU,CAAGC,IAAA,EAA0B,IAAzB,CAAEC,gBAAiB,CAAC,CAAAD,IAAA,CACtC,KAAM,CAACE,OAAO,CAAEC,UAAU,CAAC,CAAGV,QAAQ,CAAC,EAAE,CAAC,CAE1CC,SAAS,CAAC,IAAM,CACdU,YAAY,CAAC,CAAC,CAChB,CAAC,CAAE,CAACH,gBAAgB,CAAC,CAAC,CAEtB,KAAM,CAAAG,YAAY,CAAG,KAAAA,CAAA,GAAY,CAC/B,GAAI,CACFC,OAAO,CAACC,GAAG,CAAC,wBAAwB,CAAE,GAAGT,YAAY,UAAU,CAAC,CAChE,KAAM,CAAAU,GAAG,CAAG,KAAM,CAAAZ,GAAG,CAACa,GAAG,CAAC,UAAU,CAAC,CACrCH,OAAO,CAACC,GAAG,CAAC,kBAAkB,CAAEC,GAAG,CAACE,IAAI,CAAC,CACzCN,UAAU,CAACI,GAAG,CAACE,IAAI,CAAC,CACtB,CAAE,MAAOC,GAAG,CAAE,CACZL,OAAO,CAACM,KAAK,CAAC,yBAAyB,CAAED,GAAG,CAAC,CAC/C,CACF,CAAC,CAED,KAAM,CAAAE,eAAe,CAAGX,gBAAgB,GAAK,IAAI,CAC7CC,OAAO,CACPA,OAAO,CAACW,MAAM,CAACC,MAAM,EAAIA,MAAM,CAACC,QAAQ,EAAID,MAAM,CAACC,QAAQ,CAACC,GAAG,GAAKf,gBAAgB,CAAC,CAEzF,mBACET,KAAA,CAAAyB,aAAA,QAAKC,SAAS,CAAC,aAAa,eAC1B1B,KAAA,CAAAyB,aAAA,QAAKC,SAAS,CAAC,aAAa,EACzBN,eAAe,CAACO,GAAG,CAACL,MAAM,eACzBtB,KAAA,CAAAyB,aAAA,CAACrB,IAAI,EAACwB,EAAE,CAAE,WAAWN,MAAM,CAACE,GAAG,EAAG,CAACK,GAAG,CAAEP,MAAM,CAACE,GAAI,CAACE,SAAS,CAAC,aAAa,EACxEJ,MAAM,CAACQ,KAAK,eACX9B,KAAA,CAAAyB,aAAA,QACEM,GAAG,CAAE,GAAGzB,cAAc,GAAGgB,MAAM,CAACQ,KAAK,EAAG,CACxCE,GAAG,CAAEV,MAAM,CAACW,KAAM,CAClBC,OAAO,CAAGC,CAAC,EAAK,CACdA,CAAC,CAACC,MAAM,CAACC,OAAO,CAAG,IAAI,CACvBF,CAAC,CAACC,MAAM,CAACL,GAAG,CAAG,+CAA+C,CAChE,CAAE,CACH,CACF,cACD/B,KAAA,CAAAyB,aAAA,QAAKC,SAAS,CAAC,SAAS,eACtB1B,KAAA,CAAAyB,aAAA,WAAKH,MAAM,CAACW,KAAU,CAAC,cACvBjC,KAAA,CAAAyB,aAAA,MAAGC,SAAS,CAAC,cAAc,EAAEJ,MAAM,CAACgB,WAAW,CAAC,2BAAQ,CACrD,CACD,CACP,CACE,CACF,CAAC,CAEV,CAAC,CAED,cAAe,CAAA/B,UAAU","ignoreList":[]},"metadata":{},"sourceType":"module"}