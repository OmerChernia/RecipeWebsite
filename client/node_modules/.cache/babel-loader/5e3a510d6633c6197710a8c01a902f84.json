{"ast":null,"code":"import React from'react';import api from'../services/api';// Use the configured API instance\nconst CategoryFilter=_ref=>{let{categories,selectedCategory,onCategoryChange,isAdmin,refreshCategories}=_ref;const deleteCategory=async categoryId=>{if(window.confirm('האם אתה בטוח שברצונך למחוק קטגוריה זו?')){try{await api.delete(`/categories/${categoryId}`);alert('הקטגוריה נמחקה בהצלחה!');if(refreshCategories){refreshCategories();// Refresh the categories list after deletion\n}}catch(err){console.error('Error deleting category:',err);alert('שגיאה במחיקת הקטגוריה');}}};return/*#__PURE__*/React.createElement(\"div\",{className:\"category-filter\"},/*#__PURE__*/React.createElement(\"button\",{onClick:()=>onCategoryChange(null),className:selectedCategory===null?'active':''},\"All\"),categories.map(category=>/*#__PURE__*/React.createElement(\"div\",{key:category._id,className:\"category-button-group\"},/*#__PURE__*/React.createElement(\"button\",{onClick:()=>onCategoryChange(category._id),className:selectedCategory===category._id?'active':''},category.name),isAdmin&&selectedCategory===category._id&&/*#__PURE__*/React.createElement(\"button\",{onClick:()=>deleteCategory(category._id),className:\"delete-category-btn\"},\"Delete\"))));};export default CategoryFilter;","map":{"version":3,"names":["React","api","CategoryFilter","_ref","categories","selectedCategory","onCategoryChange","isAdmin","refreshCategories","deleteCategory","categoryId","window","confirm","delete","alert","err","console","error","createElement","className","onClick","map","category","key","_id","name"],"sources":["/Users/omerchernia/CODING/Recepie_Website/client/src/components/CategoryFilter.js"],"sourcesContent":["import React from 'react';\nimport api from '../services/api'; // Use the configured API instance\n\nconst CategoryFilter = ({ categories, selectedCategory, onCategoryChange, isAdmin, refreshCategories }) => {\n  const deleteCategory = async (categoryId) => {\n    if (window.confirm('האם אתה בטוח שברצונך למחוק קטגוריה זו?')) {\n      try {\n        await api.delete(`/categories/${categoryId}`);\n        alert('הקטגוריה נמחקה בהצלחה!');\n        if (refreshCategories) {\n          refreshCategories(); // Refresh the categories list after deletion\n        }\n      } catch (err) {\n        console.error('Error deleting category:', err);\n        alert('שגיאה במחיקת הקטגוריה');\n      }\n    }\n  };\n\n  return (\n    <div className=\"category-filter\">\n      <button\n        onClick={() => onCategoryChange(null)}\n        className={selectedCategory === null ? 'active' : ''}\n      >\n        All\n      </button>\n      {categories.map(category => (\n        <div key={category._id} className=\"category-button-group\">\n          <button\n            onClick={() => onCategoryChange(category._id)}\n            className={selectedCategory === category._id ? 'active' : ''}\n          >\n            {category.name}\n          </button>\n          {isAdmin && selectedCategory === category._id && (\n            <button \n              onClick={() => deleteCategory(category._id)}\n              className=\"delete-category-btn\"\n            >\n              Delete\n            </button>\n          )}\n        </div>\n      ))}\n    </div>\n  );\n};\n\nexport default CategoryFilter;\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,KAAM,OAAO,CACzB,MAAO,CAAAC,GAAG,KAAM,iBAAiB,CAAE;AAEnC,KAAM,CAAAC,cAAc,CAAGC,IAAA,EAAoF,IAAnF,CAAEC,UAAU,CAAEC,gBAAgB,CAAEC,gBAAgB,CAAEC,OAAO,CAAEC,iBAAkB,CAAC,CAAAL,IAAA,CACpG,KAAM,CAAAM,cAAc,CAAG,KAAO,CAAAC,UAAU,EAAK,CAC3C,GAAIC,MAAM,CAACC,OAAO,CAAC,wCAAwC,CAAC,CAAE,CAC5D,GAAI,CACF,KAAM,CAAAX,GAAG,CAACY,MAAM,CAAC,eAAeH,UAAU,EAAE,CAAC,CAC7CI,KAAK,CAAC,wBAAwB,CAAC,CAC/B,GAAIN,iBAAiB,CAAE,CACrBA,iBAAiB,CAAC,CAAC,CAAE;AACvB,CACF,CAAE,MAAOO,GAAG,CAAE,CACZC,OAAO,CAACC,KAAK,CAAC,0BAA0B,CAAEF,GAAG,CAAC,CAC9CD,KAAK,CAAC,uBAAuB,CAAC,CAChC,CACF,CACF,CAAC,CAED,mBACEd,KAAA,CAAAkB,aAAA,QAAKC,SAAS,CAAC,iBAAiB,eAC9BnB,KAAA,CAAAkB,aAAA,WACEE,OAAO,CAAEA,CAAA,GAAMd,gBAAgB,CAAC,IAAI,CAAE,CACtCa,SAAS,CAAEd,gBAAgB,GAAK,IAAI,CAAG,QAAQ,CAAG,EAAG,EACtD,KAEO,CAAC,CACRD,UAAU,CAACiB,GAAG,CAACC,QAAQ,eACtBtB,KAAA,CAAAkB,aAAA,QAAKK,GAAG,CAAED,QAAQ,CAACE,GAAI,CAACL,SAAS,CAAC,uBAAuB,eACvDnB,KAAA,CAAAkB,aAAA,WACEE,OAAO,CAAEA,CAAA,GAAMd,gBAAgB,CAACgB,QAAQ,CAACE,GAAG,CAAE,CAC9CL,SAAS,CAAEd,gBAAgB,GAAKiB,QAAQ,CAACE,GAAG,CAAG,QAAQ,CAAG,EAAG,EAE5DF,QAAQ,CAACG,IACJ,CAAC,CACRlB,OAAO,EAAIF,gBAAgB,GAAKiB,QAAQ,CAACE,GAAG,eAC3CxB,KAAA,CAAAkB,aAAA,WACEE,OAAO,CAAEA,CAAA,GAAMX,cAAc,CAACa,QAAQ,CAACE,GAAG,CAAE,CAC5CL,SAAS,CAAC,qBAAqB,EAChC,QAEO,CAEP,CACN,CACE,CAAC,CAEV,CAAC,CAED,cAAe,CAAAjB,cAAc","ignoreList":[]},"metadata":{},"sourceType":"module"}