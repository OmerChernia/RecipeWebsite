{"ast":null,"code":"import axios from'axios';import{API_BASE_URL}from'../config';const api=axios.create({baseURL:API_BASE_URL});console.log('API Base URL:',API_BASE_URL);// Interceptor to log requests\napi.interceptors.request.use(request=>{console.log('Starting Request',request);return request;});// Interceptor to include the token in headers\napi.interceptors.request.use(config=>{const token=localStorage.getItem('token');if(token){config.headers['Authorization']=`Bearer ${token}`;console.log('Authorization header set:',config.headers['Authorization']);}else{console.log('No token found in localStorage');}return config;},error=>{return Promise.reject(error);});// Interceptor to handle responses and errors\napi.interceptors.response.use(response=>response,error=>{console.error('API Error:',error);if(error.response){console.error('Response data:',error.response.data);console.error('Response status:',error.response.status);console.error('Response headers:',error.response.headers);}else if(error.request){console.error('No response received:',error.request);}else{console.error('Error setting up request:',error.message);}return Promise.reject(error);});export default api;export const getRecipes=()=>api.get('/recipes');","map":{"version":3,"names":["axios","API_BASE_URL","api","create","baseURL","console","log","interceptors","request","use","config","token","localStorage","getItem","headers","error","Promise","reject","response","data","status","message","getRecipes","get"],"sources":["/Users/omerchernia/CODING/Recepie_Website/client/src/services/api.js"],"sourcesContent":["import axios from 'axios';\nimport { API_BASE_URL } from '../config';\n\nconst api = axios.create({\n  baseURL: API_BASE_URL,\n});\n\nconsole.log('API Base URL:', API_BASE_URL);\n\n// Interceptor to log requests\napi.interceptors.request.use(request => {\n  console.log('Starting Request', request);\n  return request;\n});\n\n// Interceptor to include the token in headers\napi.interceptors.request.use(\n  (config) => {\n    const token = localStorage.getItem('token');\n    if (token) {\n      config.headers['Authorization'] = `Bearer ${token}`;\n      console.log('Authorization header set:', config.headers['Authorization']);\n    } else {\n      console.log('No token found in localStorage');\n    }\n    return config;\n  },\n  (error) => {\n    return Promise.reject(error);\n  }\n);\n\n// Interceptor to handle responses and errors\napi.interceptors.response.use(\n  (response) => response,\n  (error) => {\n    console.error('API Error:', error);\n    if (error.response) {\n      console.error('Response data:', error.response.data);\n      console.error('Response status:', error.response.status);\n      console.error('Response headers:', error.response.headers);\n    } else if (error.request) {\n      console.error('No response received:', error.request);\n    } else {\n      console.error('Error setting up request:', error.message);\n    }\n    return Promise.reject(error);\n  }\n);\n\nexport default api;\n\nexport const getRecipes = () => api.get('/recipes');"],"mappings":"AAAA,MAAO,CAAAA,KAAK,KAAM,OAAO,CACzB,OAASC,YAAY,KAAQ,WAAW,CAExC,KAAM,CAAAC,GAAG,CAAGF,KAAK,CAACG,MAAM,CAAC,CACvBC,OAAO,CAAEH,YACX,CAAC,CAAC,CAEFI,OAAO,CAACC,GAAG,CAAC,eAAe,CAAEL,YAAY,CAAC,CAE1C;AACAC,GAAG,CAACK,YAAY,CAACC,OAAO,CAACC,GAAG,CAACD,OAAO,EAAI,CACtCH,OAAO,CAACC,GAAG,CAAC,kBAAkB,CAAEE,OAAO,CAAC,CACxC,MAAO,CAAAA,OAAO,CAChB,CAAC,CAAC,CAEF;AACAN,GAAG,CAACK,YAAY,CAACC,OAAO,CAACC,GAAG,CACzBC,MAAM,EAAK,CACV,KAAM,CAAAC,KAAK,CAAGC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC,CAC3C,GAAIF,KAAK,CAAE,CACTD,MAAM,CAACI,OAAO,CAAC,eAAe,CAAC,CAAG,UAAUH,KAAK,EAAE,CACnDN,OAAO,CAACC,GAAG,CAAC,2BAA2B,CAAEI,MAAM,CAACI,OAAO,CAAC,eAAe,CAAC,CAAC,CAC3E,CAAC,IAAM,CACLT,OAAO,CAACC,GAAG,CAAC,gCAAgC,CAAC,CAC/C,CACA,MAAO,CAAAI,MAAM,CACf,CAAC,CACAK,KAAK,EAAK,CACT,MAAO,CAAAC,OAAO,CAACC,MAAM,CAACF,KAAK,CAAC,CAC9B,CACF,CAAC,CAED;AACAb,GAAG,CAACK,YAAY,CAACW,QAAQ,CAACT,GAAG,CAC1BS,QAAQ,EAAKA,QAAQ,CACrBH,KAAK,EAAK,CACTV,OAAO,CAACU,KAAK,CAAC,YAAY,CAAEA,KAAK,CAAC,CAClC,GAAIA,KAAK,CAACG,QAAQ,CAAE,CAClBb,OAAO,CAACU,KAAK,CAAC,gBAAgB,CAAEA,KAAK,CAACG,QAAQ,CAACC,IAAI,CAAC,CACpDd,OAAO,CAACU,KAAK,CAAC,kBAAkB,CAAEA,KAAK,CAACG,QAAQ,CAACE,MAAM,CAAC,CACxDf,OAAO,CAACU,KAAK,CAAC,mBAAmB,CAAEA,KAAK,CAACG,QAAQ,CAACJ,OAAO,CAAC,CAC5D,CAAC,IAAM,IAAIC,KAAK,CAACP,OAAO,CAAE,CACxBH,OAAO,CAACU,KAAK,CAAC,uBAAuB,CAAEA,KAAK,CAACP,OAAO,CAAC,CACvD,CAAC,IAAM,CACLH,OAAO,CAACU,KAAK,CAAC,2BAA2B,CAAEA,KAAK,CAACM,OAAO,CAAC,CAC3D,CACA,MAAO,CAAAL,OAAO,CAACC,MAAM,CAACF,KAAK,CAAC,CAC9B,CACF,CAAC,CAED,cAAe,CAAAb,GAAG,CAElB,MAAO,MAAM,CAAAoB,UAAU,CAAGA,CAAA,GAAMpB,GAAG,CAACqB,GAAG,CAAC,UAAU,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module"}