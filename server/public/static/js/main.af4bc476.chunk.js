(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{15:function(e,t,a){e.exports=a(27)},21:function(e,t,a){},26:function(e,t,a){},27:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(14),l=a.n(c),o=(a(21),a(5)),i=a(3),s=a(28);var m=()=>r.a.createElement("div",{className:"banner-container"},r.a.createElement("div",{className:"banner-icons"},r.a.createElement("img",{src:"/food.png",alt:"Food",className:"banner-icon food-icon"}),r.a.createElement("img",{src:"/pickles.png",alt:"Pickles",className:"banner-icon pickles-icon"}),r.a.createElement("img",{src:"/cooking.png",alt:"Cooking",className:"banner-icon cooking-icon"}),r.a.createElement("img",{src:"/bottle.png",alt:"Bottle",className:"banner-icon bottle-icon"})),r.a.createElement("div",{className:"banner"},r.a.createElement(o.b,{to:"/",className:"banner-title"},r.a.createElement("h1",null,"\u05d7\u05de\u05d5\u05e6\u05d9\u05dd \u05e2\u05dd \u05d7\u05de\u05d5\u05e6\u05d9\u05dd")),r.a.createElement("div",{className:"banner-separator"}),r.a.createElement("p",null,"\u05d4\u05de\u05ea\u05db\u05d5\u05e0\u05d9\u05dd \u05d4\u05db\u05d9 \u05d8\u05e2\u05d9\u05de\u05d9\u05dd \u05dc\u05d7\u05de\u05d5\u05e6\u05d9\u05dd \u05d1\u05d9\u05ea\u05d9\u05d9\u05dd")));var u=e=>{let{categories:t,selectedCategory:a,onCategoryChange:n,isAdmin:c}=e;return r.a.createElement("div",{className:"category-filter"},r.a.createElement("button",{onClick:()=>n(null),className:null===a?"active":""},"All"),t.map(e=>r.a.createElement("div",{key:e._id,className:"category-button-group"},r.a.createElement("button",{onClick:()=>n(e._id),className:a===e._id?"active":""},e.name),c&&a===e._id&&r.a.createElement("button",{onClick:()=>(async e=>{if(window.confirm("\u05d4\u05d0\u05dd \u05d0\u05ea\u05d4 \u05d1\u05d8\u05d5\u05d7 \u05e9\u05d1\u05e8\u05e6\u05d5\u05e0\u05da \u05dc\u05de\u05d7\u05d5\u05e7 \u05e7\u05d8\u05d2\u05d5\u05e8\u05d9\u05d4 \u05d6\u05d5?"))try{await s.a.delete("/api/categories/"+e,{headers:{"x-auth-token":localStorage.getItem("token")}}),alert("\u05d4\u05e7\u05d8\u05d2\u05d5\u05e8\u05d9\u05d4 \u05e0\u05de\u05d7\u05e7\u05d4 \u05d1\u05d4\u05e6\u05dc\u05d7\u05d4!")}catch(t){console.error("Error deleting category:",t),alert("\u05e9\u05d2\u05d9\u05d0\u05d4 \u05d1\u05de\u05d7\u05d9\u05e7\u05ea \u05d4\u05e7\u05d8\u05d2\u05d5\u05e8\u05d9\u05d4")}})(e._id),className:"delete-category-btn"},"Delete"))))};var d=e=>{let{selectedCategory:t}=e;const[a,c]=Object(n.useState)([]);Object(n.useEffect)(()=>{l()},[t]);const l=async()=>{try{const e=await s.a.get("/api/recipes");c(e.data)}catch(e){console.error("Error fetching recipes:",e)}},i=null===t?a:a.filter(e=>e.category&&e.category._id===t);return r.a.createElement("div",{className:"recipe-list"},r.a.createElement("div",{className:"recipe-grid"},i.map(e=>r.a.createElement(o.b,{to:"/recipe/"+e._id,key:e._id,className:"recipe-card"},e.image&&r.a.createElement("img",{src:"http://localhost:5001"+e.image,alt:e.title,onError:e=>{e.target.onerror=null,e.target.src="https://via.placeholder.com/150?text=No+Image"}}),r.a.createElement("div",{className:"content"},r.a.createElement("h2",null,e.title),r.a.createElement("p",{className:"cooking-time"},e.cookingTime," \u05d3\u05e7\u05d5\u05ea"))))))};var p=e=>{let{setIsAuthenticated:t,handleLogin:a}=e;const[c,l]=Object(n.useState)(""),[o,m]=Object(n.useState)(""),u=Object(i.p)();return r.a.createElement("form",{onSubmit:async e=>{e.preventDefault();try{const e=await s.a.post("/api/auth/login",{username:c,password:o});a(e.data.token),u("/")}catch(t){console.error("Login failed",t)}},className:"login-form"},r.a.createElement("h2",null,"\u05d4\u05ea\u05d7\u05d1\u05e8\u05d5\u05ea"),r.a.createElement("input",{type:"text",placeholder:"Username",value:c,onChange:e=>l(e.target.value),required:!0}),r.a.createElement("input",{type:"password",placeholder:"Password",value:o,onChange:e=>m(e.target.value),required:!0}),r.a.createElement("button",{type:"submit"},"\u05d4\u05ea\u05d7\u05d1\u05e8"))};var g=()=>{const[e,t]=Object(n.useState)(""),[a,c]=Object(n.useState)(""),[l,o]=Object(n.useState)(""),[m,u]=Object(n.useState)(""),[d,p]=Object(n.useState)(""),[g,E]=Object(n.useState)(""),[h,b]=Object(n.useState)(""),[v,y]=Object(n.useState)(null),[f,S]=Object(n.useState)([]),k=Object(i.p)();Object(n.useEffect)(()=>{O()},[]);const O=async()=>{const e=await s.a.get("/api/categories");S(e.data)};return r.a.createElement("form",{onSubmit:async t=>{t.preventDefault();const n=new FormData;n.append("title",e),n.append("description",a),n.append("ingredients",JSON.stringify(l.split("\n"))),n.append("instructions",JSON.stringify(m.split("\n"))),n.append("cookingTime",d),n.append("servings",g),n.append("category",h),v&&n.append("image",v);try{const e=await s.a.post("/api/recipes",n,{headers:{"Content-Type":"multipart/form-data","x-auth-token":localStorage.getItem("token")}});alert("Recipe added successfully!"),k("/recipe/"+e.data._id)}catch(r){console.error(r),alert("Error adding recipe")}},className:"add-recipe-form"},r.a.createElement("h2",null,"\u05d4\u05d5\u05e1\u05e3 \u05de\u05ea\u05db\u05d5\u05df \u05d7\u05d3\u05e9"),r.a.createElement("input",{type:"text",placeholder:"\u05db\u05d5\u05ea\u05e8\u05ea",value:e,onChange:e=>t(e.target.value),required:!0}),r.a.createElement("textarea",{placeholder:"\u05ea\u05d9\u05d0\u05d5\u05e8",value:a,onChange:e=>c(e.target.value),required:!0}),r.a.createElement("textarea",{placeholder:"\u05de\u05e6\u05e8\u05db\u05d9\u05dd (\u05d0\u05d7\u05d3 \u05d1\u05db\u05dc \u05e9\u05d5\u05e8\u05d4)",value:l,onChange:e=>o(e.target.value),required:!0}),r.a.createElement("textarea",{placeholder:"\u05d4\u05d5\u05e8\u05d0\u05d5\u05ea \u05d4\u05db\u05e0\u05d4 (\u05d0\u05d7\u05ea \u05d1\u05db\u05dc \u05e9\u05d5\u05e8\u05d4)",value:m,onChange:e=>u(e.target.value),required:!0}),r.a.createElement("input",{type:"number",placeholder:"\u05d6\u05de\u05df \u05d1\u05d9\u05e9\u05d5\u05dc (\u05d1\u05d3\u05e7\u05d5\u05ea)",value:d,onChange:e=>p(e.target.value),required:!0}),r.a.createElement("input",{type:"number",placeholder:"\u05db\u05de\u05d5\u05ea \u05d4\u05d2\u05e9\u05d5\u05ea \u05dc\u05de\u05e0\u05d4",value:g,onChange:e=>E(e.target.value),required:!0}),r.a.createElement("select",{value:h,onChange:e=>b(e.target.value),required:!0},r.a.createElement("option",{value:""},"\u05d1\u05d7\u05e8 \u05e7\u05d8\u05d2\u05d5\u05e8\u05d9\u05d4"),f.map(e=>r.a.createElement("option",{key:e._id,value:e._id},e.name))),r.a.createElement("input",{type:"file",onChange:e=>y(e.target.files[0]),accept:"image/*",required:!0}),r.a.createElement("button",{type:"submit"},"\u05d4\u05d5\u05e1\u05e3 \u05de\u05ea\u05db\u05d5\u05df"))};var E=()=>{const[e,t]=Object(n.useState)(""),a=Object(i.p)();return r.a.createElement("form",{onSubmit:async t=>{t.preventDefault();try{await s.a.post("/api/categories",{name:e},{headers:{"x-auth-token":localStorage.getItem("token")}}),alert("Category added successfully!"),a("/")}catch(n){console.error(n),alert("Error adding category")}},className:"add-category-form"},r.a.createElement("h2",null,"\u05d4\u05d5\u05e1\u05e3 \u05e7\u05d8\u05d2\u05d5\u05e8\u05d9\u05d4 \u05d7\u05d3\u05e9\u05d4"),r.a.createElement("input",{type:"text",value:e,onChange:e=>t(e.target.value),placeholder:"\u05e9\u05dd \u05d4\u05e7\u05d8\u05d2\u05d5\u05e8\u05d9\u05d4",required:!0}),r.a.createElement("button",{type:"submit"},"\u05d4\u05d5\u05e1\u05e3 \u05e7\u05d8\u05d2\u05d5\u05e8\u05d9\u05d4"))};var h=e=>{let{isAdmin:t}=e;const[a,c]=Object(n.useState)(null),{id:l}=Object(i.r)();return Object(n.useEffect)(()=>{(async()=>{try{const e=await s.a.get("/api/recipes/"+l);c(e.data)}catch(e){console.error("Error fetching recipe:",e)}})()},[l]),a?r.a.createElement("div",{className:"recipe-details"},r.a.createElement("div",{className:"recipe-info"},r.a.createElement("h1",null,a.title),r.a.createElement("p",null,"\u05d6\u05de\u05df \u05d4\u05db\u05e0\u05d4: ",a.cookingTime," \u05d3\u05e7\u05d5\u05ea"),r.a.createElement("p",null,"\u05de\u05e0\u05d5\u05ea: ",a.servings),r.a.createElement("h3",null,"\u05de\u05e6\u05e8\u05db\u05d9\u05dd:"),r.a.createElement("ul",null,a.ingredients.map((e,t)=>r.a.createElement("li",{key:t},e))),r.a.createElement("h3",null,"\u05d4\u05d5\u05e8\u05d0\u05d5\u05ea \u05d4\u05db\u05e0\u05d4:"),r.a.createElement("ol",null,a.instructions.map((e,t)=>r.a.createElement("li",{key:t},e))),t&&r.a.createElement("div",null,r.a.createElement(o.b,{to:"/edit-recipe/"+a._id},r.a.createElement("button",null,"\u05e2\u05e8\u05d5\u05da \u05de\u05ea\u05db\u05d5\u05df")))),r.a.createElement("div",{className:"recipe-image"},r.a.createElement("img",{src:"http://localhost:5001"+a.image,alt:a.title}))):r.a.createElement("div",null,"Loading...")};var b=()=>{const[e,t]=Object(n.useState)(""),[a,c]=Object(n.useState)(""),[l,o]=Object(n.useState)(""),[m,u]=Object(n.useState)(""),[d,p]=Object(n.useState)(""),[g,E]=Object(n.useState)(""),[h,b]=Object(n.useState)(""),[v,y]=Object(n.useState)(null),[f,S]=Object(n.useState)([]),{id:k}=Object(i.r)(),O=Object(i.p)(),j=Object(n.useCallback)(async()=>{try{const e=(await s.a.get("/api/recipes/"+k)).data;t(e.title),c(e.description),o(e.ingredients.join("\n")),u(e.instructions.join("\n")),p(e.cookingTime),E(e.servings),b(e.category._id)}catch(e){console.error("Error fetching recipe:",e)}},[k]);Object(n.useEffect)(()=>{j(),N()},[j]);const N=async()=>{try{const e=await s.a.get("/api/categories");S(e.data)}catch(e){console.error("Error fetching categories:",e)}};return r.a.createElement("div",{className:"edit-recipe-container"},r.a.createElement("form",{onSubmit:async t=>{t.preventDefault();const n=new FormData;n.append("title",e),n.append("description",a),n.append("ingredients",JSON.stringify(l.split("\n"))),n.append("instructions",JSON.stringify(m.split("\n"))),n.append("cookingTime",d),n.append("servings",g),n.append("category",h),v&&n.append("image",v);try{await s.a.put("/api/recipes/"+k,n,{headers:{"Content-Type":"multipart/form-data","x-auth-token":localStorage.getItem("token")}}),alert("\u05d4\u05de\u05ea\u05db\u05d5\u05df \u05e2\u05d5\u05d3\u05db\u05df \u05d1\u05d4\u05e6\u05dc\u05d7\u05d4!"),O("/recipe/"+k)}catch(r){console.error(r),alert("\u05e9\u05d2\u05d9\u05d0\u05d4 \u05d1\u05e2\u05d3\u05db\u05d5\u05df \u05d4\u05de\u05ea\u05db\u05d5\u05df")}},className:"add-recipe-form"},r.a.createElement("h2",null,"\u05e2\u05e8\u05d9\u05db\u05ea \u05de\u05ea\u05db\u05d5\u05df"),r.a.createElement("input",{type:"text",placeholder:"\u05db\u05d5\u05ea\u05e8\u05ea",value:e,onChange:e=>t(e.target.value),required:!0}),r.a.createElement("textarea",{placeholder:"\u05ea\u05d9\u05d0\u05d5\u05e8",value:a,onChange:e=>c(e.target.value),required:!0}),r.a.createElement("textarea",{placeholder:"\u05de\u05e6\u05e8\u05db\u05d9\u05dd (\u05d0\u05d7\u05d3 \u05d1\u05db\u05dc \u05e9\u05d5\u05e8\u05d4)",value:l,onChange:e=>o(e.target.value),required:!0}),r.a.createElement("textarea",{placeholder:"\u05d4\u05d5\u05e8\u05d0\u05d5\u05ea \u05d4\u05db\u05e0\u05d4 (\u05d0\u05d7\u05ea \u05d1\u05db\u05dc \u05e9\u05d5\u05e8\u05d4)",value:m,onChange:e=>u(e.target.value),required:!0}),r.a.createElement("input",{type:"number",placeholder:"\u05d6\u05de\u05df \u05d1\u05d9\u05e9\u05d5\u05dc (\u05d1\u05d3\u05e7\u05d5\u05ea)",value:d,onChange:e=>p(e.target.value),required:!0}),r.a.createElement("input",{type:"number",placeholder:"\u05db\u05de\u05d5\u05ea \u05d4\u05d2\u05e9\u05d5\u05ea \u05dc\u05de\u05e0\u05d4",value:g,onChange:e=>E(e.target.value),required:!0}),r.a.createElement("select",{value:h,onChange:e=>b(e.target.value),required:!0},r.a.createElement("option",{value:""},"\u05d1\u05d7\u05e8 \u05e7\u05d8\u05d2\u05d5\u05e8\u05d9\u05d4"),f.map(e=>r.a.createElement("option",{key:e._id,value:e._id},e.name))),r.a.createElement("input",{type:"file",onChange:e=>y(e.target.files[0]),accept:"image/*"}),r.a.createElement("button",{type:"submit"},"\u05e2\u05d3\u05db\u05df \u05de\u05ea\u05db\u05d5\u05df")),r.a.createElement("button",{onClick:async()=>{if(window.confirm("\u05d4\u05d0\u05dd \u05d0\u05ea\u05d4 \u05d1\u05d8\u05d5\u05d7 \u05e9\u05d1\u05e8\u05e6\u05d5\u05e0\u05da \u05dc\u05de\u05d7\u05d5\u05e7 \u05de\u05ea\u05db\u05d5\u05df \u05d6\u05d4?"))try{await s.a.delete("/api/recipes/"+k,{headers:{"x-auth-token":localStorage.getItem("token")}}),alert("\u05d4\u05de\u05ea\u05db\u05d5\u05df \u05e0\u05de\u05d7\u05e7 \u05d1\u05d4\u05e6\u05dc\u05d7\u05d4!"),O("/")}catch(e){console.error(e),alert("\u05e9\u05d2\u05d9\u05d0\u05d4 \u05d1\u05de\u05d7\u05d9\u05e7\u05ea \u05d4\u05de\u05ea\u05db\u05d5\u05df")}},className:"delete-recipe-btn"},"\u05de\u05d7\u05e7 \u05de\u05ea\u05db\u05d5\u05df"))};a(26);var v=e=>{let{isAuthenticated:t,onLogout:a}=e;return r.a.createElement("div",{className:"floating-buttons"},t?r.a.createElement(r.a.Fragment,null,r.a.createElement("button",{onClick:a,className:"floating-button logout-button"},"\u05d4\u05ea\u05e0\u05ea\u05e7\u05d5\u05ea"),r.a.createElement(o.b,{to:"/add-recipe",className:"floating-button add-recipe-button"},"\u05d4\u05d5\u05e1\u05e3 \u05de\u05ea\u05db\u05d5\u05df"),r.a.createElement(o.b,{to:"/add-category",className:"floating-button add-category-button"},"\u05d4\u05d5\u05e1\u05e3 \u05e7\u05d8\u05d2\u05d5\u05e8\u05d9\u05d4")):r.a.createElement(o.b,{to:"/login",className:"floating-button login-button"},"\u05d4\u05ea\u05d7\u05d1\u05e8\u05d5\u05ea"))};var y=function(){const[e,t]=Object(n.useState)(!1),[a,c]=Object(n.useState)(!1),[l,y]=Object(n.useState)([]),[f,S]=Object(n.useState)(null);Object(n.useEffect)(()=>{k(),s.a.get("/api/categories").then(e=>y(e.data)).catch(e=>console.error("Error fetching categories:",e))},[]);const k=()=>{const e=localStorage.getItem("token");e?s.a.get("/api/auth/me",{headers:{"x-auth-token":e}}).then(e=>{t(!0),c(e.data.isAdmin)}).catch(e=>{console.error(e),t(!1),c(!1),localStorage.removeItem("token")}):(t(!1),c(!1))};return Object(n.useEffect)(()=>{const e=localStorage.getItem("token");e&&s.a.get("/api/users/me",{headers:{"x-auth-token":e}}).then(e=>{c(e.data.isAdmin)}).catch(e=>{console.error("Error checking admin status:",e)})},[]),r.a.createElement(o.a,null,r.a.createElement("div",{className:"App"},r.a.createElement("div",{className:"fixed-header"},r.a.createElement(m,null),r.a.createElement("div",{className:"banner-category-separator"}),r.a.createElement(u,{categories:l,selectedCategory:f,onCategoryChange:e=>{S(e)},isAdmin:a})),r.a.createElement("div",{className:"main-content"},r.a.createElement(i.d,null,r.a.createElement(i.b,{path:"/",element:r.a.createElement(d,{categories:l,selectedCategory:f})}),r.a.createElement(i.b,{path:"/login",element:e?r.a.createElement(i.a,{to:"/"}):r.a.createElement(p,{handleLogin:e=>{localStorage.setItem("token",e),k()}})}),r.a.createElement(i.b,{path:"/add-recipe",element:e&&a?r.a.createElement(g,null):r.a.createElement(i.a,{to:"/login"})}),r.a.createElement(i.b,{path:"/add-category",element:e&&a?r.a.createElement(E,null):r.a.createElement(i.a,{to:"/login"})}),r.a.createElement(i.b,{path:"/recipe/:id",element:r.a.createElement(h,{isAdmin:a})}),r.a.createElement(i.b,{path:"/edit-recipe/:id",element:e&&a?r.a.createElement(b,null):r.a.createElement(i.a,{to:"/login"})}))),r.a.createElement(v,{isAuthenticated:e,onLogout:()=>{t(!1),c(!1),localStorage.removeItem("token"),console.log("User logged out")}})))};var f=e=>{e&&e instanceof Function&&a.e(3).then(a.bind(null,29)).then(t=>{let{getCLS:a,getFID:n,getFCP:r,getLCP:c,getTTFB:l}=t;a(e),n(e),r(e),c(e),l(e)})};l.a.createRoot(document.getElementById("root")).render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(y,null))),f()}},[[15,1,2]]]);
//# sourceMappingURL=main.af4bc476.chunk.js.map